<!DOCTYPE html>
<html>
<head>
    <title>ğŸ§ª Test Resend API</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; }
        button { background: #059669; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #047857; }
        .result { margin-top: 20px; padding: 15px; border-radius: 5px; }
        .success { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
        .error { background: #fef2f2; color: #991b1b; border: 1px solid #fecaca; }
        pre { background: #f8fafc; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª Khadum Resend API Test</h1>
        <p>Click the button below to test if the Resend API key works:</p>
        
        <button onclick="testResendAPI()">ğŸš€ Test Resend API</button>
        
        <div id="result"></div>
    </div>

    <script>
        async function testResendAPI() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="result">ğŸ”„ Testing Resend API...</div>';
            
            try {
                const response = await fetch('https://api.resend.com/emails', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Bearer re_UqDC7zJw_MRjALuSiNQJZ2AiZrBVvLZZ6',
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        from: 'Khadum Platform <noreply@khadum.sa>',
                        to: ['razexelite11@gmail.com'],
                        subject: 'ğŸ§ª Khadum API Test - ØªØ¬Ø±Ø¨Ø© Ù…Ù†ØµØ© Ø®Ø¯ÙˆÙ…',
                        html: `
                            <div style="font-family: Arial, sans-serif; padding: 20px; text-align: center; direction: rtl;">
                                <h1 style="color: #059669;">ğŸ¤– Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù†ØµØ© Ø®Ø¯ÙˆÙ…</h1>
                                <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ <strong>Gasmi Messaoud</strong>ØŒ</p>
                                <p>Ø¥Ø°Ø§ ÙˆØµÙ„Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ØŒ ÙØ¥Ù† Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø«Ø§Ù„ÙŠ! âœ…</p>
                                <p style="color: #666; font-size: 14px;">
                                    ÙˆÙ‚Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: ${new Date().toLocaleString('ar-SA')}
                                </p>
                                <div style="background: linear-gradient(135deg, #059669 0%, #10b981 100%); color: white; padding: 15px; border-radius: 8px; margin: 20px 0;">
                                    <strong>ğŸ‰ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­!</strong>
                                </div>
                            </div>
                        `,
                    }),
                });

                if (response.ok) {
                    const result = await response.json();
                    resultDiv.innerHTML = \`
                        <div class="result success">
                            <h3>âœ… Success! Email sent successfully</h3>
                            <p><strong>Email ID:</strong> \${result.id}</p>
                            <p>Check your email inbox: <strong>razexelite11@gmail.com</strong></p>
                            <pre>\${JSON.stringify(result, null, 2)}</pre>
                        </div>
                    \`;
                } else {
                    const error = await response.text();
                    resultDiv.innerHTML = \`
                        <div class="result error">
                            <h3>âŒ Error sending email</h3>
                            <p><strong>Status:</strong> \${response.status} \${response.statusText}</p>
                            <pre>\${error}</pre>
                        </div>
                    \`;
                }
                
            } catch (error) {
                resultDiv.innerHTML = \`
                    <div class="result error">
                        <h3>âŒ Network Error</h3>
                        <p>\${error.message}</p>
                    </div>
                \`;
            }
        }
    </script>
</body>
</html>

